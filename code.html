<html>

<head>

        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

	<title>Code Page</title>
</head>

<body>
<h1>Hello</h1>

<a href="https://login.live.com/oauth20_authorize.srf?scope=wl.skydrive+wl.skydrive_update+wl.offline_access&redirect_uri=https%3A%2F%2Fopenskies.azurewebsites.net%2Fcode.html&response_type=code&client_id=0000000044100F5A">SIGN IN</a>

<script type="text/javascript">
        function log(msg) {
    setTimeout(function() {
        throw new Error(msg);
    }, 0);
}

var APP_CLIENT_ID = 0000000044100F5A
var REDIRECT_URL =  http://openskies.azurewebsites.net/code.htm

WL.init({ client_id: APP_CLIENT_ID, redirect_uri: REDIRECT_URL, scope: "wl.signini+wl.skydrive+wil.skydrive_update+wil.offline_access", response_type: "token" });
WL.Event.subscribe("auth.login", onLogin);
WL.Event.subscribe("auth.sessionChange", onSessionChange);

var session = WL.getSession();
if (session) {
    log("You are already signed in!");
} else {
 log("a");
    WL.login({ scope: "wl.signin" });
}


function signInUser() {
    WL.login({
        scope: "wl.signin"
    }, onLoginComplete);
}

document.write("<button onclick='signInUser()'>" +
    "Sign In</button>");


 
function onSessionChange() {
    var session = WL.getSession();
    if (session) {
        log("Your session has changed.");
    }
}
                    
function log(message) {
    var child = document.createTextNode(message);
    var parent = document.getElementById('JsOutputDiv') || document.body;
    parent.appendChild(child);
    parent.appendChild(document.createElement("br"));
}
 var prev = document.referrer;
  
</script>
</body>

